<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.shmashine.api.dao.TblCameraDao">

    <resultMap type="com.shmashine.common.entity.TblCamera" id="TblCameraResultMap">
        <result property="vCameraId" column="v_camera_id" jdbcType="VARCHAR"/>
        <result property="vElevatorId" column="v_elevator_id" jdbcType="VARCHAR"/>
        <result property="vElevatorCode" column="v_elevator_code" jdbcType="VARCHAR"/>
        <result property="iCameraType" column="i_camera_type" jdbcType="INTEGER"/>
        <result property="vSerialNumber" column="v_serial_number" jdbcType="VARCHAR"/>
        <result property="vUsername" column="v_username" jdbcType="VARCHAR"/>
        <result property="vPassword" column="v_password" jdbcType="VARCHAR"/>
        <result property="vCloudNumber" column="v_cloud_number" jdbcType="VARCHAR"/>
        <result property="vHlsUrl" column="v_hls_url" jdbcType="VARCHAR"/>
        <result property="vRtmpUrl" column="v_rtmp_url" jdbcType="VARCHAR"/>
        <result property="vPrivateUrl" column="v_private_url" jdbcType="VARCHAR"/>
        <result property="deviceCode" column="device_code" jdbcType="VARCHAR"/>
        <result property="dtCreateTime" column="dt_create_time" jdbcType="TIMESTAMP"/>
        <result property="dtModifyTime" column="dt_modify_time" jdbcType="TIMESTAMP"/>
        <result property="vCreateUserId" column="v_create_user_id" jdbcType="VARCHAR"/>
        <result property="vModifyUserId" column="v_modify_user_id" jdbcType="VARCHAR"/>
        <result property="iDelFlag" column="i_del_flag" jdbcType="INTEGER"/>
    </resultMap>

    <sql id="table_field">
        v_camera_id
        , v_elevator_id, v_elevator_code, i_camera_type, v_serial_number, v_username, v_password, v_cloud_number, v_hls_url, v_rtmp_url, v_private_url,
            device_code,
            dt_create_time, dt_modify_time, v_create_user_id, v_modify_user_id, i_del_flag
    </sql>

    <sql id="TABLE_NAME">
        tbl_camera
    </sql>
    <sql id="ALL_COLUMNS">
        v_camera_id
        AS cameraId, v_elevator_id AS elevatorId, v_elevator_code AS elevatorCode,
        i_camera_type AS cameraType, v_serial_number AS serialNumber, v_username AS username,
        v_password AS password, v_cloud_number AS cloudNumber, v_hls_url AS hlsUrl, v_rtmp_url AS rtmpUrl,
        v_private_url AS privateUrl, device_code AS deviceCode, v_is_activate AS activate, online_status AS onlineStatus,
        i_del_flag AS delFlag
    </sql>

    <!--通过Id查询单个-->
    <select id="getById" resultMap="TblCameraResultMap" parameterType="java.lang.String">
        select
        <include refid="table_field"/>
        from tbl_camera
        where v_camera_id = #{vCameraId,jdbcType=VARCHAR}
    </select>


    <!--通过实体不为空的属性作为筛选条件查询列表-->
    <select id="listByEntity" resultMap="TblCameraResultMap" parameterType="com.shmashine.common.entity.TblCamera">
        select
        <include refid="table_field"/>
        from tbl_camera
        <where>
            <if test="vCameraId != null">
                and v_camera_id = #{vCameraId,jdbcType=VARCHAR}
            </if>
            <if test="vElevatorId != null">
                and v_elevator_id = #{vElevatorId,jdbcType=VARCHAR}
            </if>
            <if test="vElevatorCode != null">
                and v_elevator_code = #{vElevatorCode,jdbcType=VARCHAR}
            </if>
            <if test="iCameraType != null">
                and i_camera_type = #{iCameraType,jdbcType=INTEGER}
            </if>
            <if test="vSerialNumber != null">
                and v_serial_number = #{vSerialNumber,jdbcType=VARCHAR}
            </if>
            <if test="vUsername != null">
                and v_username = #{vUsername,jdbcType=VARCHAR}
            </if>
            <if test="vPassword != null">
                and v_password = #{vPassword,jdbcType=VARCHAR}
            </if>
            <if test="vCloudNumber != null">
                and v_cloud_number = #{vCloudNumber,jdbcType=VARCHAR}
            </if>
            <if test="vHlsUrl != null">
                and v_hls_url = #{vHlsUrl,jdbcType=VARCHAR}
            </if>
            <if test="vRtmpUrl != null">
                and v_rtmp_url = #{vRtmpUrl,jdbcType=VARCHAR}
            </if>
            <if test="vPrivateUrl != null">
                and v_private_url = #{vPrivateUrl,jdbcType=VARCHAR}
            </if>
            <if test="dtCreateTime != null">
                and dt_create_time = #{dtCreateTime,jdbcType=TIMESTAMP}
            </if>
            <if test="dtModifyTime != null">
                and dt_modify_time = #{dtModifyTime,jdbcType=TIMESTAMP}
            </if>
            <if test="vCreateUserId != null">
                and v_create_user_id = #{vCreateUserId,jdbcType=VARCHAR}
            </if>
            <if test="vModifyUserId != null">
                and v_modify_user_id = #{vModifyUserId,jdbcType=VARCHAR}
            </if>
            <if test="iDelFlag != null">
                and i_del_flag = #{iDelFlag,jdbcType=INTEGER}
            </if>
        </where>
    </select>

    <!--通过实体不为空的属性作为筛选条件查询单个-->
    <select id="getByEntity" resultMap="TblCameraResultMap" parameterType="com.shmashine.common.entity.TblCamera">
        select
        <include refid="table_field"/>
        from tbl_camera
        <where>
            <if test="vCameraId != null">
                and v_camera_id = #{vCameraId,jdbcType=VARCHAR}
            </if>
            <if test="vElevatorId != null">
                and v_elevator_id = #{vElevatorId,jdbcType=VARCHAR}
            </if>
            <if test="vElevatorCode != null">
                and v_elevator_code = #{vElevatorCode,jdbcType=VARCHAR}
            </if>
            <if test="iCameraType != null">
                and i_camera_type = #{iCameraType,jdbcType=INTEGER}
            </if>
            <if test="vSerialNumber != null">
                and v_serial_number = #{vSerialNumber,jdbcType=VARCHAR}
            </if>
            <if test="vUsername != null">
                and v_username = #{vUsername,jdbcType=VARCHAR}
            </if>
            <if test="vPassword != null">
                and v_password = #{vPassword,jdbcType=VARCHAR}
            </if>
            <if test="vCloudNumber != null">
                and v_cloud_number = #{vCloudNumber,jdbcType=VARCHAR}
            </if>
            <if test="vHlsUrl != null">
                and v_hls_url = #{vHlsUrl,jdbcType=VARCHAR}
            </if>
            <if test="vRtmpUrl != null">
                and v_rtmp_url = #{vRtmpUrl,jdbcType=VARCHAR}
            </if>
            <if test="vPrivateUrl != null">
                and v_private_url = #{vPrivateUrl,jdbcType=VARCHAR}
            </if>
            <if test="dtCreateTime != null">
                and dt_create_time = #{dtCreateTime,jdbcType=TIMESTAMP}
            </if>
            <if test="dtModifyTime != null">
                and dt_modify_time = #{dtModifyTime,jdbcType=TIMESTAMP}
            </if>
            <if test="vCreateUserId != null">
                and v_create_user_id = #{vCreateUserId,jdbcType=VARCHAR}
            </if>
            <if test="vModifyUserId != null">
                and v_modify_user_id = #{vModifyUserId,jdbcType=VARCHAR}
            </if>
            <if test="iDelFlag != null">
                and i_del_flag = #{iDelFlag,jdbcType=INTEGER}
            </if>
        </where>
    </select>

    <!--通过Id列表作为筛选条件查询列表，列表长度不为0-->
    <select id="listByIds" resultMap="TblCameraResultMap" parameterType="list">
        select
        <include refid="table_field"/>
        from tbl_camera
        where v_camera_id in
        <foreach item="item" collection="list" separator="," open="(" close=")" index="index">
            #{item}
        </foreach>
    </select>

    <!--新增实体属性不为null的列-->
    <insert id="insert" keyProperty="vCameraId" useGeneratedKeys="true"
            parameterType="com.shmashine.common.entity.TblCamera">
        insert into tbl_camera
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="vCameraId != null">
                v_camera_id,
            </if>
            <if test="vElevatorId != null">
                v_elevator_id,
            </if>
            <if test="vElevatorCode != null">
                v_elevator_code,
            </if>
            <if test="iCameraType != null">
                i_camera_type,
            </if>
            <if test="vSerialNumber != null">
                v_serial_number,
            </if>
            <if test="vUsername != null">
                v_username,
            </if>
            <if test="vPassword != null">
                v_password,
            </if>
            <if test="vCloudNumber != null">
                v_cloud_number,
            </if>
            <if test="vHlsUrl != null">
                v_hls_url,
            </if>
            <if test="vRtmpUrl != null">
                v_rtmp_url,
            </if>
            <if test="vPrivateUrl != null">
                v_private_url,
            </if>
            <if test="dtCreateTime != null">
                dt_create_time,
            </if>
            <if test="dtModifyTime != null">
                dt_modify_time,
            </if>
            <if test="vCreateUserId != null">
                v_create_user_id,
            </if>
            <if test="vModifyUserId != null">
                v_modify_user_id,
            </if>
            <if test="iDelFlag != null">
                i_del_flag,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="vCameraId != null">
                #{vCameraId,jdbcType=VARCHAR},
            </if>
            <if test="vElevatorId != null">
                #{vElevatorId,jdbcType=VARCHAR},
            </if>
            <if test="vElevatorCode != null">
                #{vElevatorCode,jdbcType=VARCHAR},
            </if>
            <if test="iCameraType != null">
                #{iCameraType,jdbcType=INTEGER},
            </if>
            <if test="vSerialNumber != null">
                #{vSerialNumber,jdbcType=VARCHAR},
            </if>
            <if test="vUsername != null">
                #{vUsername,jdbcType=VARCHAR},
            </if>
            <if test="vPassword != null">
                #{vPassword,jdbcType=VARCHAR},
            </if>
            <if test="vCloudNumber != null">
                #{vCloudNumber,jdbcType=VARCHAR},
            </if>
            <if test="vHlsUrl != null">
                #{vHlsUrl,jdbcType=VARCHAR},
            </if>
            <if test="vRtmpUrl != null">
                #{vRtmpUrl,jdbcType=VARCHAR},
            </if>
            <if test="vPrivateUrl != null">
                #{vPrivateUrl,jdbcType=VARCHAR},
            </if>
            <if test="dtCreateTime != null">
                #{dtCreateTime,jdbcType=TIMESTAMP},
            </if>
            <if test="dtModifyTime != null">
                #{dtModifyTime,jdbcType=TIMESTAMP},
            </if>
            <if test="vCreateUserId != null">
                #{vCreateUserId,jdbcType=VARCHAR},
            </if>
            <if test="vModifyUserId != null">
                #{vModifyUserId,jdbcType=VARCHAR},
            </if>
            <if test="iDelFlag != null">
                #{iDelFlag,jdbcType=INTEGER},
            </if>
        </trim>
    </insert>

    <!--批量新增所有列，列表长度不能为0-->
    <insert id="insertBatch" keyProperty="vCameraId" useGeneratedKeys="true" parameterType="list">
        insert into tbl_camera
        ( v_camera_id ,v_elevator_id, v_elevator_code, i_camera_type, v_serial_number, v_username, v_password,
        v_cloud_number, v_hls_url, v_rtmp_url, v_private_url, dt_create_time, dt_modify_time, v_create_user_id,
        v_modify_user_id, i_del_flag)
        values
        <foreach item="item" collection="list" separator="," open="" close="" index="index">
            (#{item.vCameraId,jdbcType=VARCHAR},#{item.vElevatorId,jdbcType=VARCHAR},
            #{item.vElevatorCode,jdbcType=VARCHAR}, #{item.iCameraType,jdbcType=INTEGER},
            #{item.vSerialNumber,jdbcType=VARCHAR}, #{item.vUsername,jdbcType=VARCHAR},
            #{item.vPassword,jdbcType=VARCHAR}, #{item.vCloudNumber,jdbcType=VARCHAR}, #{item.vHlsUrl,jdbcType=VARCHAR},
            #{item.vRtmpUrl,jdbcType=VARCHAR}, #{item.vPrivateUrl,jdbcType=VARCHAR},
            #{item.dtCreateTime,jdbcType=TIMESTAMP}, #{item.dtModifyTime,jdbcType=TIMESTAMP},
            #{item.vCreateUserId,jdbcType=VARCHAR}, #{item.vModifyUserId,jdbcType=VARCHAR},
            #{item.iDelFlag,jdbcType=INTEGER})
        </foreach>
    </insert>

    <!--通过主键修改实体属性不为null的列-->
    <update id="update" parameterType="com.shmashine.common.entity.TblCamera">
        update tbl_camera
        <set>
            <if test="vElevatorId != null and vElevatorId != ''">
                v_elevator_id = #{vElevatorId,jdbcType=VARCHAR},
            </if>
            <if test="vElevatorCode != null and vElevatorCode != ''">
                v_elevator_code = #{vElevatorCode,jdbcType=VARCHAR},
            </if>
            <if test="iCameraType != null">
                i_camera_type = #{iCameraType,jdbcType=INTEGER},
            </if>
            <if test="vSerialNumber != null and vSerialNumber != ''">
                v_serial_number = #{vSerialNumber,jdbcType=VARCHAR},
            </if>
            <if test="vUsername != null and vUsername != ''">
                v_username = #{vUsername,jdbcType=VARCHAR},
            </if>
            <if test="vPassword != null and vPassword != ''">
                v_password = #{vPassword,jdbcType=VARCHAR},
            </if>
            <if test="vCloudNumber != null and vCloudNumber != ''">
                v_cloud_number = #{vCloudNumber,jdbcType=VARCHAR},
            </if>
            <if test="vHlsUrl != null and vHlsUrl != ''">
                v_hls_url = #{vHlsUrl,jdbcType=VARCHAR},
            </if>
            <if test="vRtmpUrl != null and vRtmpUrl != ''">
                v_rtmp_url = #{vRtmpUrl,jdbcType=VARCHAR},
            </if>
            <if test="vPrivateUrl != null and vPrivateUrl != ''">
                v_private_url = #{vPrivateUrl,jdbcType=VARCHAR},
            </if>
            <if test="dtCreateTime != null">
                dt_create_time = #{dtCreateTime,jdbcType=TIMESTAMP},
            </if>
            <if test="dtModifyTime != null">
                dt_modify_time = #{dtModifyTime,jdbcType=TIMESTAMP},
            </if>
            <if test="vCreateUserId != null and vCreateUserId != ''">
                v_create_user_id = #{vCreateUserId,jdbcType=VARCHAR},
            </if>
            <if test="vModifyUserId != null and vModifyUserId != ''">
                v_modify_user_id = #{vModifyUserId,jdbcType=VARCHAR},
            </if>
            <if test="iDelFlag != null">
                i_del_flag = #{iDelFlag,jdbcType=INTEGER},
            </if>
        </set>
        where v_camera_id = #{vCameraId,jdbcType=VARCHAR}
    </update>

    <!--通过表字段修改实体属性不为null的列-->
    <update id="updateByField">
        update tbl_camera
        <set>
            <if test="where.vElevatorId == null and set.vElevatorId != null and set.vElevatorId != ''">
                v_elevator_id = #{set.vElevatorId,jdbcType=VARCHAR},
            </if>
            <if test="where.vElevatorCode == null and set.vElevatorCode != null and set.vElevatorCode != ''">
                v_elevator_code = #{set.vElevatorCode,jdbcType=VARCHAR},
            </if>
            <if test="where.iCameraType == null and set.iCameraType != null">
                i_camera_type = #{set.iCameraType,jdbcType=INTEGER},
            </if>
            <if test="where.vSerialNumber == null and set.vSerialNumber != null and set.vSerialNumber != ''">
                v_serial_number = #{set.vSerialNumber,jdbcType=VARCHAR},
            </if>
            <if test="where.vUsername == null and set.vUsername != null and set.vUsername != ''">
                v_username = #{set.vUsername,jdbcType=VARCHAR},
            </if>
            <if test="where.vPassword == null and set.vPassword != null and set.vPassword != ''">
                v_password = #{set.vPassword,jdbcType=VARCHAR},
            </if>
            <if test="where.vCloudNumber == null and set.vCloudNumber != null and set.vCloudNumber != ''">
                v_cloud_number = #{set.vCloudNumber,jdbcType=VARCHAR},
            </if>
            <if test="where.vHlsUrl == null and set.vHlsUrl != null and set.vHlsUrl != ''">
                v_hls_url = #{set.vHlsUrl,jdbcType=VARCHAR},
            </if>
            <if test="where.vRtmpUrl == null and set.vRtmpUrl != null and set.vRtmpUrl != ''">
                v_rtmp_url = #{set.vRtmpUrl,jdbcType=VARCHAR},
            </if>
            <if test="where.vPrivateUrl == null and set.vPrivateUrl != null and set.vPrivateUrl != ''">
                v_private_url = #{set.vPrivateUrl,jdbcType=VARCHAR},
            </if>
            <if test="where.dtCreateTime == null and set.dtCreateTime != null">
                dt_create_time = #{set.dtCreateTime,jdbcType=TIMESTAMP},
            </if>
            <if test="where.dtModifyTime == null and set.dtModifyTime != null">
                dt_modify_time = #{set.dtModifyTime,jdbcType=TIMESTAMP},
            </if>
            <if test="where.vCreateUserId == null and set.vCreateUserId != null and set.vCreateUserId != ''">
                v_create_user_id = #{set.vCreateUserId,jdbcType=VARCHAR},
            </if>
            <if test="where.vModifyUserId == null and set.vModifyUserId != null and set.vModifyUserId != ''">
                v_modify_user_id = #{set.vModifyUserId,jdbcType=VARCHAR},
            </if>
            <if test="where.iDelFlag == null and set.iDelFlag != null">
                i_del_flag = #{set.iDelFlag,jdbcType=INTEGER},
            </if>
        </set>
        <where>
            <if test="where.vCameraId != null">
                and v_camera_id = #{where.vCameraId,jdbcType=VARCHAR}
            </if>
            <if test="where.vElevatorId != null">
                and v_elevator_id = #{where.vElevatorId,jdbcType=VARCHAR}
            </if>
            <if test="where.vElevatorCode != null">
                and v_elevator_code = #{where.vElevatorCode,jdbcType=VARCHAR}
            </if>
            <if test="where.iCameraType != null">
                and i_camera_type = #{where.iCameraType,jdbcType=INTEGER}
            </if>
            <if test="where.vSerialNumber != null">
                and v_serial_number = #{where.vSerialNumber,jdbcType=VARCHAR}
            </if>
            <if test="where.vUsername != null">
                and v_username = #{where.vUsername,jdbcType=VARCHAR}
            </if>
            <if test="where.vPassword != null">
                and v_password = #{where.vPassword,jdbcType=VARCHAR}
            </if>
            <if test="where.vCloudNumber != null">
                and v_cloud_number = #{where.vCloudNumber,jdbcType=VARCHAR}
            </if>
            <if test="where.vHlsUrl != null">
                and v_hls_url = #{where.vHlsUrl,jdbcType=VARCHAR}
            </if>
            <if test="where.vRtmpUrl != null">
                and v_rtmp_url = #{where.vRtmpUrl,jdbcType=VARCHAR}
            </if>
            <if test="where.vPrivateUrl != null">
                and v_private_url = #{where.vPrivateUrl,jdbcType=VARCHAR}
            </if>
            <if test="where.dtCreateTime != null">
                and dt_create_time = #{where.dtCreateTime,jdbcType=TIMESTAMP}
            </if>
            <if test="where.dtModifyTime != null">
                and dt_modify_time = #{where.dtModifyTime,jdbcType=TIMESTAMP}
            </if>
            <if test="where.vCreateUserId != null">
                and v_create_user_id = #{where.vCreateUserId,jdbcType=VARCHAR}
            </if>
            <if test="where.vModifyUserId != null">
                and v_modify_user_id = #{where.vModifyUserId,jdbcType=VARCHAR}
            </if>
            <if test="where.iDelFlag != null">
                and i_del_flag = #{where.iDelFlag,jdbcType=INTEGER}
            </if>
        </where>
    </update>

    <!--通过主键修改实体列表，列表长度不能为0，注意：当实体属性为null时，对应的列也会别更新为null-->
    <update id="updateBatch" parameterType="list">
        update tbl_camera
        <trim prefix="set" suffixOverrides=",">
            <trim prefix="v_elevator_id = case" suffix="end,">
                <foreach collection="list" item="item" index="index">
                    when v_camera_id = #{item.vCameraId} then #{item.vElevatorId}
                </foreach>
            </trim>
            <trim prefix="v_elevator_code = case" suffix="end,">
                <foreach collection="list" item="item" index="index">
                    when v_camera_id = #{item.vCameraId} then #{item.vElevatorCode}
                </foreach>
            </trim>
            <trim prefix="i_camera_type = case" suffix="end,">
                <foreach collection="list" item="item" index="index">
                    when v_camera_id = #{item.vCameraId} then #{item.iCameraType}
                </foreach>
            </trim>
            <trim prefix="v_serial_number = case" suffix="end,">
                <foreach collection="list" item="item" index="index">
                    when v_camera_id = #{item.vCameraId} then #{item.vSerialNumber}
                </foreach>
            </trim>
            <trim prefix="v_username = case" suffix="end,">
                <foreach collection="list" item="item" index="index">
                    when v_camera_id = #{item.vCameraId} then #{item.vUsername}
                </foreach>
            </trim>
            <trim prefix="v_password = case" suffix="end,">
                <foreach collection="list" item="item" index="index">
                    when v_camera_id = #{item.vCameraId} then #{item.vPassword}
                </foreach>
            </trim>
            <trim prefix="v_cloud_number = case" suffix="end,">
                <foreach collection="list" item="item" index="index">
                    when v_camera_id = #{item.vCameraId} then #{item.vCloudNumber}
                </foreach>
            </trim>
            <trim prefix="v_hls_url = case" suffix="end,">
                <foreach collection="list" item="item" index="index">
                    when v_camera_id = #{item.vCameraId} then #{item.vHlsUrl}
                </foreach>
            </trim>
            <trim prefix="v_rtmp_url = case" suffix="end,">
                <foreach collection="list" item="item" index="index">
                    when v_camera_id = #{item.vCameraId} then #{item.vRtmpUrl}
                </foreach>
            </trim>
            <trim prefix="v_private_url = case" suffix="end,">
                <foreach collection="list" item="item" index="index">
                    when v_camera_id = #{item.vCameraId} then #{item.vPrivateUrl}
                </foreach>
            </trim>
            <trim prefix="dt_create_time = case" suffix="end,">
                <foreach collection="list" item="item" index="index">
                    when v_camera_id = #{item.vCameraId} then #{item.dtCreateTime}
                </foreach>
            </trim>
            <trim prefix="dt_modify_time = case" suffix="end,">
                <foreach collection="list" item="item" index="index">
                    when v_camera_id = #{item.vCameraId} then #{item.dtModifyTime}
                </foreach>
            </trim>
            <trim prefix="v_create_user_id = case" suffix="end,">
                <foreach collection="list" item="item" index="index">
                    when v_camera_id = #{item.vCameraId} then #{item.vCreateUserId}
                </foreach>
            </trim>
            <trim prefix="v_modify_user_id = case" suffix="end,">
                <foreach collection="list" item="item" index="index">
                    when v_camera_id = #{item.vCameraId} then #{item.vModifyUserId}
                </foreach>
            </trim>
            <trim prefix="i_del_flag = case" suffix="end,">
                <foreach collection="list" item="item" index="index">
                    when v_camera_id = #{item.vCameraId} then #{item.iDelFlag}
                </foreach>
            </trim>
        </trim>
        where v_camera_id in
        <foreach collection="list" index="index" item="item" separator="," open="(" close=")">
            #{item.vCameraId,jdbcType=VARCHAR}
        </foreach>
    </update>

    <!--通过主键删除-->
    <delete id="deleteById" parameterType="java.lang.String">
        delete
        from tbl_camera
        where v_camera_id = #{vCameraId,jdbcType=VARCHAR}     </delete>

    <!--通过实体非空属性删除-->
    <delete id="deleteByEntity" parameterType="com.shmashine.common.entity.TblCamera">
        delete from tbl_camera
        <where>
            <if test="vElevatorId != null">
                and v_elevator_id = #{vElevatorId,jdbcType=VARCHAR}
            </if>
            <if test="vElevatorCode != null">
                and v_elevator_code = #{vElevatorCode,jdbcType=VARCHAR}
            </if>
            <if test="iCameraType != null">
                and i_camera_type = #{iCameraType,jdbcType=INTEGER}
            </if>
            <if test="vSerialNumber != null">
                and v_serial_number = #{vSerialNumber,jdbcType=VARCHAR}
            </if>
            <if test="vUsername != null">
                and v_username = #{vUsername,jdbcType=VARCHAR}
            </if>
            <if test="vPassword != null">
                and v_password = #{vPassword,jdbcType=VARCHAR}
            </if>
            <if test="vCloudNumber != null">
                and v_cloud_number = #{vCloudNumber,jdbcType=VARCHAR}
            </if>
            <if test="vHlsUrl != null">
                and v_hls_url = #{vHlsUrl,jdbcType=VARCHAR}
            </if>
            <if test="vRtmpUrl != null">
                and v_rtmp_url = #{vRtmpUrl,jdbcType=VARCHAR}
            </if>
            <if test="vPrivateUrl != null">
                and v_private_url = #{vPrivateUrl,jdbcType=VARCHAR}
            </if>
            <if test="dtCreateTime != null">
                and dt_create_time = #{dtCreateTime,jdbcType=TIMESTAMP}
            </if>
            <if test="dtModifyTime != null">
                and dt_modify_time = #{dtModifyTime,jdbcType=TIMESTAMP}
            </if>
            <if test="vCreateUserId != null">
                and v_create_user_id = #{vCreateUserId,jdbcType=VARCHAR}
            </if>
            <if test="vModifyUserId != null">
                and v_modify_user_id = #{vModifyUserId,jdbcType=VARCHAR}
            </if>
            <if test="iDelFlag != null">
                and i_del_flag = #{iDelFlag,jdbcType=INTEGER}
            </if>
        </where>
    </delete>

    <!--通过主键列表删除，列表长度不能为0-->
    <delete id="deleteByIds" parameterType="list">
        delete from tbl_camera where v_camera_id in
        <foreach item="item" collection="list" separator="," open="(" close=")" index="index">
            #{item}
        </foreach>
    </delete>

    <select id="countAll" resultType="int">
        select count(v_camera_id)
        from tbl_camera
    </select>

    <select id="countByEntity" parameterType="com.shmashine.common.entity.TblCamera" resultType="int">
        select count(v_camera_id) from tbl_camera
        <where>
            <if test="vCameraId != null">
                and v_camera_id = #{vCameraId,jdbcType=VARCHAR}
            </if>
            <if test="vElevatorId != null">
                and v_elevator_id = #{vElevatorId,jdbcType=VARCHAR}
            </if>
            <if test="vElevatorCode != null">
                and v_elevator_code = #{vElevatorCode,jdbcType=VARCHAR}
            </if>
            <if test="iCameraType != null">
                and i_camera_type = #{iCameraType,jdbcType=INTEGER}
            </if>
            <if test="vSerialNumber != null">
                and v_serial_number = #{vSerialNumber,jdbcType=VARCHAR}
            </if>
            <if test="vUsername != null">
                and v_username = #{vUsername,jdbcType=VARCHAR}
            </if>
            <if test="vPassword != null">
                and v_password = #{vPassword,jdbcType=VARCHAR}
            </if>
            <if test="vCloudNumber != null">
                and v_cloud_number = #{vCloudNumber,jdbcType=VARCHAR}
            </if>
            <if test="vHlsUrl != null">
                and v_hls_url = #{vHlsUrl,jdbcType=VARCHAR}
            </if>
            <if test="vRtmpUrl != null">
                and v_rtmp_url = #{vRtmpUrl,jdbcType=VARCHAR}
            </if>
            <if test="vPrivateUrl != null">
                and v_private_url = #{vPrivateUrl,jdbcType=VARCHAR}
            </if>
            <if test="dtCreateTime != null">
                and dt_create_time = #{dtCreateTime,jdbcType=TIMESTAMP}
            </if>
            <if test="dtModifyTime != null">
                and dt_modify_time = #{dtModifyTime,jdbcType=TIMESTAMP}
            </if>
            <if test="vCreateUserId != null">
                and v_create_user_id = #{vCreateUserId,jdbcType=VARCHAR}
            </if>
            <if test="vModifyUserId != null">
                and v_modify_user_id = #{vModifyUserId,jdbcType=VARCHAR}
            </if>
            <if test="iDelFlag != null">
                and i_del_flag = #{iDelFlag,jdbcType=INTEGER}
            </if>
        </where>
    </select>

    <select id="searchElevatorListByPage" resultType="java.util.Map">
        select
        tc.v_camera_id AS vCameraId,
        ele.v_elevator_id AS vElevatorId,
        ele.v_elevator_code AS vElevatorCode,
        tc.i_camera_type AS iCameraType,
        tc.v_serial_number AS vSerialNumber,
        tc.v_username AS vUsername ,
        tc.v_password AS vPassword,
        tc.v_cloud_number AS vCloudNumber,
        tc.v_hls_url AS vHlsUrl,
        tc.v_rtmp_url AS vRtmpUrl,
        tc.v_private_url AS vPrivateUrl,
        tc.dt_create_time AS dtCreateTime,
        tc.dt_modify_time AS dtModifyTime,
        ele.i_on_line AS isOnline,
        tc.v_create_user_id AS vCreateUserId,
        tc.v_modify_user_id AS vModifyUserId,
        ele.i_del_flag AS iDelFlag
        from
        tbl_elevator ele
        left join tbl_camera tc on ele.v_elevator_code = tc.v_elevator_code
        <where>
            ele.i_del_flag = 0
            <if test="searchCamerasModule.elevatorId != null and searchCamerasModule.elevatorId != ''">
                and ele.v_elevator_id = #{searchCamerasModule.elevatorId}
            </if>
            <if test="searchCamerasModule.cameraId != null and searchCamerasModule.cameraId != ''">
                and tc.v_camera_id = #{searchCamerasModule.cameraId}
            </if>
            <if test="searchCamerasModule.elevatorCode != null and searchCamerasModule.elevatorCode != ''">
                and ele.v_elevator_code like CONCAT('%',#{searchCamerasModule.elevatorCode},'%')
            </if>

            <if test="searchCamerasModule.cameraType != null and searchCamerasModule.cameraType != ''">
                and tc.i_camera_type = #{searchCamerasModule.cameraType}
            </if>

            <if test="searchCamerasModule.serialNumber != null and searchCamerasModule.serialNumber != ''">
                and tc.v_serial_number = #{searchCamerasModule.serialNumber}
            </if>

            <if test="searchCamerasModule.cloudNumber!= null and searchCamerasModule.cloudNumber != ''">
                and tc.v_cloud_number = #{searchCamerasModule.cloudNumber}
            </if>

            <if test="searchCamerasModule.isOnline!= null and searchCamerasModule.isOnline != ''">
                and ele.i_on_line = #{searchCamerasModule.isOnline}
            </if>
            <if test="searchCamerasModule.isBound != null and searchCamerasModule.isBound == '0'.toString()">
                and (tc.v_elevator_code is null or tc.v_elevator_code = '')
            </if>

            <if test="searchCamerasModule.isBound != null and searchCamerasModule.isBound == '1'.toString()">
                and tc.v_elevator_code is not null and tc.v_elevator_code != ''
            </if>
            <if test="searchCamerasModule.eleCodes != null">
                and ele.v_elevator_code in
                <foreach collection="searchCamerasModule.eleCodes" index="index" item="item" open="("
                         separator="," close=")">
                    #{item}
                </foreach>
            </if>
        </where>
        ORDER BY ele.dt_create_time desc
    </select>

    <select id="electricBicycleConfirm" resultType="java.util.Map">
        SELECT
        tf.v_fault_id,tf.v_elevator_code,tf.v_address,tf.dt_report_time,tf.v_fault_name,tf.i_confirm_status,sf.v_url
        FROM tbl_fault_uncivilized_behavior37 tf
        Left JOIN tbl_sys_file sf ON tf.v_fault_id = sf.v_business_id AND sf.v_file_type = 0
        <where>
            <if test="elevatorCode != null and elevatorCode != ''">
                and tf.v_elevator_code = #{elevatorCode}
            </if>
            <if test="startTime != null  and startTime != '' ">
                and tf.dt_report_time &gt;= #{startTime}
            </if>
            <if test="endTime != null  and endTime != '' ">
                and tf.dt_report_time &lt;= #{endTime}
            </if>
        </where>
        ORDER BY tf.dt_report_time desc
    </select>

    <select id="getCameraInfoByElevatorCode" resultType="com.shmashine.common.dto.TblCameraDTO">
        SELECT
        <include refid="ALL_COLUMNS"/>
        FROM
        <include refid="TABLE_NAME"/>
        WHERE
        v_elevator_code = #{elevatorCode}
    </select>

</mapper>